(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      9220,        250]
NotebookOptionsPosition[      8484,        220]
NotebookOutlinePosition[      8841,        236]
CellTagsIndexPosition[      8798,        233]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Side Info", "Section",
 CellChangeTimes->{{3.6772692288548107`*^9, 3.677269234372163*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"sideInfo", "=", 
   RowBox[{"Import", "[", 
    RowBox[{
    "\"\</Users/mick/Desktop/PROJECT/ml-1m/movies.dat\>\"", ",", 
     "\"\<Table\>\"", ",", 
     RowBox[{"\"\<FieldSeparators\>\"", "\[Rule]", "\"\<::\>\""}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.677269341573518*^9, 3.677269345116074*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Length", "[", "sideInfo", "]"}]], "Input",
 CellChangeTimes->{{3.67727339589264*^9, 3.677273423257153*^9}}],

Cell[BoxData["3883"], "Output",
 CellChangeTimes->{{3.67727340482684*^9, 3.677273423657218*^9}, 
   3.6773322243460827`*^9, 3.6773337483189*^9, 3.677333778336204*^9, 
   3.677333893207856*^9, 3.6773365035922003`*^9, 3.677351078456918*^9, 
   3.677352608892885*^9, 3.67741719573032*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"SI", "=", 
     RowBox[{"Transpose", "[", 
      RowBox[{"Insert", "[", 
       RowBox[{
        RowBox[{"Transpose", "[", "sideInfo", "]"}], ",", 
        RowBox[{"Table", "[", 
         RowBox[{"i", ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"Length", "[", "sideInfo", "]"}]}], "}"}]}], "]"}], ",", 
        "2"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"rules", "=", 
     RowBox[{"SI", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", 
        RowBox[{"1", ";;", "2"}]}], "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"rulelist", "=", 
     RowBox[{"Rule", "@@@", "rules"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"sideInfo", "=", 
     RowBox[{"sideInfo", "/.", "rulelist"}]}], ";"}], 
   "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.677269371473733*^9, 3.6772694268274612`*^9}, {
  3.677269457845402*^9, 3.677269582277337*^9}, {3.677273426539304*^9, 
  3.677273427349234*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"rep", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<|\>\"", "\[Rule]", "\"\<+\>\""}], ",", 
     RowBox[{
     "\"\<Comedy\>\"", "\[Rule]", 
      "\"\<{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Fantasy\>\"", "\[Rule]", "              ", 
      "\"\<{0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Romance\>\"", "\[Rule]", "              ", 
      "\"\<{0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Drama\>\"", "\[Rule]", "                  ", 
      "\"\<{0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Action\>\"", "\[Rule]", "                ", 
      "\"\<{0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Adventure\>\"", "\[Rule]", "         ", 
      "\"\<{0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Crime\>\"", "\[Rule]", "                  ", 
      "\"\<{0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Thriller\>\"", "\[Rule]", "            ", 
      "\"\<{0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Mystery\>\"", "\[Rule]", "              ", 
      "\"\<{0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Horror\>\"", "\[Rule]", "                ", 
      "\"\<{0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Sci-Fi\>\"", "\[Rule]", "                ", 
      "\"\<{0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<War\>\"", "\[Rule]", "                       ", 
      "\"\<{0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Animation\>\"", "\[Rule]", "          ", 
      "\"\<{0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Children's\>\"", "\[Rule]", "        ", 
      "\"\<{0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Documentary\>\"", "\[Rule]", "      ", 
      "\"\<{0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Musical\>\"", "\[Rule]", "               ", 
      "\"\<{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0}\>\""}], ",", "\n", 
     RowBox[{
     "\"\<Western\>\"", "\[Rule]", "               ", 
      "\"\<{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0}\>\""}], ",", 
     RowBox[{
     "\"\<Film-Noir\>\"", "\[Rule]", "          ", 
      "\"\<{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1}\>\""}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.677187331099226*^9, 3.677187478709791*^9}, {
  3.677188323041686*^9, 3.677188335278288*^9}, {3.677188366867928*^9, 
  3.677188461807905*^9}, {3.677188537171864*^9, 3.677188555026539*^9}, {
  3.677189486675036*^9, 3.67718956683661*^9}, {3.677189633980569*^9, 
  3.677189875125572*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"g", "=", 
   RowBox[{"ToExpression", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"StringReplace", "[", 
       RowBox[{
        RowBox[{"#", "[", 
         RowBox[{"[", "3", "]"}], "]"}], ",", "rep"}], "]"}], "&"}], "/@", 
     "sideInfo"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.677210598840682*^9, 3.677210601704195*^9}, {
   3.677210676480619*^9, 3.677210678189372*^9}, 3.677213355232678*^9, {
   3.6772696069626913`*^9, 3.677269608470228*^9}, 3.6772697292053957`*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"G1", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"g", "[", 
       RowBox[{"[", "i", "]"}], "]"}], "/", 
      RowBox[{"Norm", "[", 
       RowBox[{"g", "[", 
        RowBox[{"[", "i", "]"}], "]"}], "]"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "3883"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Dimensions", "[", "G1", "]"}]}], "Input",
 CellChangeTimes->{{3.6772106074370747`*^9, 3.677210620428561*^9}, {
   3.677210681030636*^9, 3.677210685382318*^9}, {3.6772107511664133`*^9, 
   3.677210756925755*^9}, {3.677213359408641*^9, 3.677213362189228*^9}, {
   3.67722028426086*^9, 3.6772202989866543`*^9}, {3.677221228296069*^9, 
   3.6772212307832413`*^9}, {3.677269698845435*^9, 3.6772697023220797`*^9}, 
   3.677281734628965*^9, 3.677333773975336*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"3883", ",", "18"}], "}"}]], "Output",
 CellChangeTimes->{
  3.677210686095874*^9, 3.6772107579935513`*^9, 3.677211806088258*^9, 
   3.6772119092985277`*^9, 3.6772120079952173`*^9, 3.677213363115556*^9, 
   3.677219233656843*^9, 3.677219935164063*^9, {3.677220257906245*^9, 
   3.677220326777596*^9}, 3.6772203666335917`*^9, 3.677220445668272*^9, 
   3.677221232617408*^9, 3.677221437983398*^9, 3.677221837737954*^9, 
   3.677221938273952*^9, 3.677222309833336*^9, 3.677222435200697*^9, 
   3.6772227256841707`*^9, 3.6772229412329407`*^9, 3.6772240023089647`*^9, 
   3.677269611826318*^9, 3.6772696484314833`*^9, 3.677269703027954*^9, 
   3.677269733132133*^9, 3.677269768239101*^9, {3.6772817261430683`*^9, 
   3.677281735789728*^9}, 3.677332229631028*^9, {3.6773337524033318`*^9, 
   3.67733378268405*^9}, 3.6773338981082153`*^9, 3.677336507921175*^9, 
   3.677351082603013*^9, 3.6773526130432177`*^9, 3.6774172011623583`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"GG", "=", 
   RowBox[{"Transpose", "[", "G1", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.6772200466878843`*^9, 3.677220084722127*^9}, {
   3.677220248240917*^9, 3.677220277141913*^9}, {3.6772203074394693`*^9, 
   3.677220336678317*^9}, {3.677221240944174*^9, 3.677221245415798*^9}, {
   3.677269683693632*^9, 3.677269689032917*^9}, 3.677269747189991*^9, {
   3.677333760905899*^9, 3.677333764665337*^9}}],

Cell["Copyright 2016, Mick Ramsey, All rights reserved", "Text",
 CellChangeTimes->{3.67745374971591*^9}]
}, Open  ]]
},
WindowSize->{808, 751},
WindowMargins->{{Automatic, 92}, {Automatic, 24}},
FrontEndVersion->"10.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (December 4, \
2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 96, 1, 64, "Section"],
Cell[679, 25, 349, 9, 46, "Input"],
Cell[CellGroupData[{
Cell[1053, 38, 131, 2, 28, "Input"],
Cell[1187, 42, 285, 4, 28, "Output"]
}, Open  ]],
Cell[1487, 49, 1109, 31, 114, "Input"],
Cell[2599, 82, 2925, 65, 335, "Input"],
Cell[5527, 149, 519, 13, 28, "Input"],
Cell[CellGroupData[{
Cell[6071, 166, 860, 20, 46, "Input"],
Cell[6934, 188, 967, 15, 28, "Output"]
}, Open  ]],
Cell[7916, 206, 444, 8, 28, "Input"],
Cell[8363, 216, 105, 1, 30, "Text"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
